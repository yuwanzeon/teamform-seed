<!-- Compiled and minified CSS -->
<!--TODO: accept or turn down an invitation; go to manage a team; go to manage an event; quit a team.-->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">

<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>



<div ng-controller="dashboardController">
<div class="container" style="padding-top: 20px">
    <div class="row" id="infoDisplay">
        <div class="col m6 s6">
            <img src="{{currentUser.profilePic}}" style="height: 100%; width: 100%">
        </div>
        <div class="col m6 s6">
            <h4 width="100%">Username: {{currentUser.name}}</h4>
            <h6 width="100%">My ID (email): {{currentUser.email}}</h6>
            <p>{{displayUser}}</p>
        </div>
    </div>
    <!--<p width="100%">{{currentUser}}</p>-->
    <div class="divider"></div>

    <div class="row" id="skillManager">
        <h4>Manage my Skills:</h4>
        <form ng-submit="receiveNewSikll()">
            <div class="input-field col s6">
                <input id="newSkill" type="text" class="validate" ng-model="newSkill" required>
                <label for="newSkill">Add a skill</label>
            </div>
            <button class="btn waves-effect waves-light" type="submit" name="action">Add Skill
                <i class="material-icons right">send</i>
            </button>
        </form>
    </div>

    <div class="row">
        <div class="col m3" ng-repeat="skill in skillsList">
            <a class="waves-effect waves-light btn col" class="col m4" ><i class="material-icons left" ng-click="skillsList.$remove(skill)">delete</i>{{skill.$value}}</a>
        </div>

    </div>
    <div class="divider"></div>



    <!-- NOTIFICATION CENTER -->
    <div class="row">
        <h3>Notification Center</h3>
        <div class="row">
            <div class="col s12">
                <ul class="tabs">
                    <li class="tab col s3"><a class="active" href="#allInvitations">Invitations</a></li>
                    <li class="tab col s3"><a href="#allNotifs">Notifs</a></li>
                </ul>
            </div>
            <!--<div id="unreadNotifs">-->
                <!--<h5>My unread notifications:</h5>-->
                <!--<div ng-repeat="noti in notifsDisplay | filter: false">-->
                    <!--<p>{{noti}}  <a class="waves-effect waves-light btn" ng-show="isInvitation[$index]">Accept</a> <a class="waves-effect waves-light btn" ng-show="isInvitation[$index]">Turn down</a></p>-->
                <!--</div>-->
            <!--</div>-->
            <div id="allInvitations">
                <h5>All of my invitations:</h5>
                <div ng-repeat="display in invitedList">
                    <p>{{display.$value}} <a class="waves-effect waves-light btn" ng-click="acceptInvitation($index)">Accept</a>
                        <a class="waves-effect waves-light btn" ng-click="turndownInvitation($index)">Turn down</a></p>
                </div>
            </div>
            <div id="allNotifs">
                <h5>All of my notifications:</h5>
                <div ng-repeat="notif in notifs track by $index">
                    <p>{{notif.content}}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="divider"></div>



    <!-- MANAGEMENT TABS -->
    <div class="row">
        <div class="col s12">
            <ul class="tabs">
                <li class="tab col s3"><a href="#eventsAsAdmin">Admin</a></li>
                <li class="tab col s3"><a class="active" href="#teamsAsLeader">Leader</a></li>
                <li class="tab col s3"><a href="#teamsAsMember">Member</a></li>
                <li class="tab col s3"><a href="#teamsApplying">Applying</a></li>
            </ul>
        </div>
        <div id="eventsAsAdmin">
            <h4>Events administrating by me</h4>
            <div ng-repeat="event in eventsList">{{event}}</div>
        </div>
        <div id="teamsAsLeader">
            <h4>I am team leader</h4>
            <div ng-repeat="team in leadingList">{{team}}</div>
        </div>
        <div id="teamsAsMember">
            <h4>I am a member in these teams</h4>
            <div ng-repeat="team in memberList">{{team.$value}}</div>
        </div>
        <div id="teamsApplying">
            <h4>I have pending applications to these teams:</h4>
            <div ng-repeat="pendingTeam in applyingList">ID of this team:{{pendingTeam.teamID}}         <br>Name of this team:{{pendingTeam.teamName}}  <a class="waves-effect waves-light btn">WITHDRAW</a></div>
        </div>
    </div>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>




</div>
</div>
